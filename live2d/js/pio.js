var Paul_Pio=function(prop){var that=this,current={idol:0,menu:document.querySelector(".pio-container .pio-action"),canvas:document.getElementById("pio"),body:document.querySelector(".pio-container"),root:document.location.protocol+"//"+document.location.hostname+"/"},modules={idol:function(){return current.idol<prop.model.length-1?current.idol++:current.idol=0,current.idol},create:function(e,o){var n=document.createElement(e);return o.class&&(n.className=o.class),n},rand:function(e){return e[Math.floor(Math.random()*e.length+1)-1]},render:function(e){e.constructor===Array?dialog.innerHTML=modules.rand(e):e.constructor===String?dialog.innerHTML=e:dialog.innerHTML="输入内容出现问题了 X_X",dialog.classList.add("active"),clearTimeout(this.t),this.t=setTimeout((function(){dialog.classList.remove("active")}),3e3)},destroy:function(){that.initHidden(),localStorage.setItem("posterGirl",0)},isMobile:function(){var e=window.navigator.userAgent.toLowerCase();return e=e.indexOf("mobile")||e.indexOf("android")||e.indexOf("ios"),window.innerWidth<500||-1!==e}};this.modules=modules,this.destroy=modules.destroy;var elements={home:modules.create("span",{class:"pio-home"}),skin:modules.create("span",{class:"pio-skin"}),info:modules.create("span",{class:"pio-info"}),night:modules.create("span",{class:"pio-night"}),close:modules.create("span",{class:"pio-close"}),show:modules.create("div",{class:"pio-show"})},dialog=modules.create("div",{class:"pio-dialog"});current.body.appendChild(dialog),current.body.appendChild(elements.show);var action={welcome:function(){if(""!==document.referrer&&-1===document.referrer.indexOf(current.root)){var e=document.createElement("a");e.href=document.referrer,prop.content.referer?modules.render(prop.content.referer.replace(/%t/,"“"+e.hostname+"”")):modules.render("欢迎来自 “"+e.hostname+"” 的朋友！")}else if(prop.tips){var o,n=(new Date).getHours();o=n>22||n<=5?"你是夜猫子呀？这么晚还不睡觉，明天起的来嘛":n>5&&n<=8?"早上好！":n>8&&n<=11?"上午好！工作顺利嘛，不要久坐，多起来走动走动哦！":n>11&&n<=14?"中午了，工作了一个上午，现在是午餐时间！":n>14&&n<=17?"午后很容易犯困呢，今天的运动目标完成了吗？":n>17&&n<=19?"傍晚了！窗外夕阳的景色很美丽呢，最美不过夕阳红~":n>19&&n<=21?"晚上好，今天过得怎么样？":n>21&&n<=23?"已经这么晚了呀，早点休息吧，晚安~":"奇趣保罗说：这个是无法被触发的吧，哈哈",modules.render(o)}else modules.render(prop.content.welcome||"欢迎来到本站！")},touch:function(){current.canvas.onclick=function(){modules.render(prop.content.touch||["你在干什么？","再摸我就报警了！","HENTAI!","不可以这样欺负我啦！"])}},buttons:function(){elements.home.onclick=function(){location.href=current.root},elements.home.onmouseover=function(){modules.render(prop.content.home||"点击这里回到首页！")},current.menu.appendChild(elements.home),elements.skin.onclick=function(){that.model=loadlive2d("pio",prop.model[modules.idol()],(e=>{prop.onModelLoad&&prop.onModelLoad(e),prop.content.skin&&prop.content.skin[1]?modules.render(prop.content.skin[1]):modules.render("新衣服真漂亮~")}))},elements.skin.onmouseover=function(){prop.content.skin&&prop.content.skin[0]?modules.render(prop.content.skin[0]):modules.render("想看看我的新衣服吗？")},prop.model.length>1&&current.menu.appendChild(elements.skin),elements.info.onclick=function(){window.open(prop.content.link||"https://paugram.com/coding/add-poster-girl-with-plugin.html")},elements.info.onmouseover=function(){modules.render("想了解更多关于我的信息吗？")},current.menu.appendChild(elements.info),prop.night&&(elements.night.onclick=function(){eval(prop.night)},elements.night.onmouseover=function(){modules.render("夜间点击这里可以保护眼睛呢")},current.menu.appendChild(elements.night)),elements.close.onclick=function(){modules.destroy()},elements.close.onmouseover=function(){modules.render(prop.content.close||"QWQ 下次再见吧~")},current.menu.appendChild(elements.close)},custom:function(){prop.content.custom.forEach((function(e){e.type||(e.type="default");var o=document.querySelectorAll(e.selector);if(o.length)for(var n=0;n<o.length;n++)"read"===e.type?o[n].onmouseover=function(){modules.render("想阅读 %t 吗？".replace(/%t/,"“"+this.innerText+"”"))}:"link"===e.type?o[n].onmouseover=function(){modules.render("想了解一下 %t 吗？".replace(/%t/,"“"+this.innerText+"”"))}:e.text&&(o[n].onmouseover=function(){modules.render(e.text)})}))}},begin={static:function(){current.body.classList.add("static")},fixed:function(){action.touch(),action.buttons()},draggable:function(){action.touch(),action.buttons();var e=current.body;e.onmousedown=function(o){var n=o.clientX-this.offsetLeft,t=o.clientY-this.offsetTop;function r(o){e.classList.add("active"),e.classList.remove("right"),e.style.left=o.clientX-n+"px",e.style.top=o.clientY-t+"px",e.style.bottom="auto"}document.addEventListener("mousemove",r),document.addEventListener("mouseup",(function(){e.classList.remove("active"),document.removeEventListener("mousemove",r)}))}}};this.init=function(e){if(!prop.hidden||!modules.isMobile()){switch(e||(action.welcome(),that.model=loadlive2d("pio",prop.model[0],(e=>{prop.onModelLoad&&prop.onModelLoad(e)}))),prop.mode){case"static":begin.static();break;case"fixed":begin.fixed();break;case"draggable":begin.draggable()}prop.content.custom&&action.custom()}},this.initHidden=function(){current.body.classList.add("hidden"),dialog.classList.remove("active"),elements.show.onclick=function(){current.body.classList.remove("hidden"),localStorage.setItem("posterGirl",1),that.init()}},0==localStorage.getItem("posterGirl")?this.initHidden():this.init()};window.console&&window.console.log&&console.log("%c Pio %c https://paugram.com ","color: #fff; margin: 1em 0; padding: 5px 0; background: #673ab7;","margin: 1em 0; padding: 5px 0; background: #efefef;");
//# sourceMappingURL=../../maps/live2d/js/pio.js.map
