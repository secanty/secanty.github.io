{"version":3,"file":"../../../js/live2d/load.js","names":["initConfig","mode","hidden","content","link","Math","floor","random","length","welcome","touch","skin","custom","selector","text","type","night","model","tips","onModelLoad","pio_reference","Paul_Pio","pio_alignment","pio_refresh_style","container","document","getElementById","canvas","modelNmae","internalModel","settings","name","coreModel","motionManager","touchList","motion","playAction","action","modules","render","from","to","Object","keys","forEach","id","hidePartIndex","_partIds","indexOf","TweenLite","_partOpacities","once","data","onclick","state","currentGroup","rand","dataset","Part15","Part12","Part16","width","map","idx","window","onload"],"sources":["js/live2d/load.js"],"mappings":"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","ignoreList":[],"sourcesContent":["var 引流 = [\n  \"https://space.bilibili.com/672328094\",\n  \"https://www.bilibili.com/video/BV1FZ4y1F7HH\",\n  \"https://www.bilibili.com/video/BV1FX4y1g7u8\",\n  \"https://www.bilibili.com/video/BV1aK4y1P7Cg\",\n  \"https://www.bilibili.com/video/BV17A411V7Uh\",\n  \"https://www.bilibili.com/video/BV1JV411b7Pc\",\n  \"https://www.bilibili.com/video/BV1AV411v7er\",\n  \"https://www.bilibili.com/video/BV1564y1173Q\",\n\n  \"https://www.bilibili.com/video/BV1MX4y1N75X\",\n  \"https://www.bilibili.com/video/BV17h411U71w\",\n  \"https://www.bilibili.com/video/BV1ry4y1Y71t\",\n  \"https://www.bilibili.com/video/BV1Sy4y1n7c4\",\n  \"https://www.bilibili.com/video/BV15y4y177uk\",\n  \"https://www.bilibili.com/video/BV1PN411X7QW\",\n  \"https://www.bilibili.com/video/BV1Dp4y1H7iB\",\n  \"https://www.bilibili.com/video/BV1bi4y1P7Eh\",\n  \"https://www.bilibili.com/video/BV1vQ4y1Z7C2\",\n  \"https://www.bilibili.com/video/BV1oU4y1h7Sc\",\n]\n\nconst initConfig = {\n  mode: \"fixed\",\n  hidden: true,\n  content: {\n    link: 引流[Math.floor(Math.random() * 引流.length)],\n    welcome: [\"Hi!\"],\n    touch: \"\",\n    skin: [\"诶，想看看其他团员吗？\", \"替换后入场文本\"],\n    custom: [\n      { \"selector\": \".comment-form\", \"text\": \"Content Tooltip\" },\n      { \"selector\": \".home-social a:last-child\", \"text\": \"Blog Tooltip\" },\n      { \"selector\": \".list .postname\", \"type\": \"read\" },\n      { \"selector\": \".post-content a, .page-content a, .post a\", \"type\": \"link\" }\n    ],\n  },\n  night: \"toggleNightMode()\",\n  model: [\n    \"https://cdn.jsdelivr.net/gh/journey-ad/blog-img/live2d/Diana/Diana.model3.json\",\n    \"https://cdn.jsdelivr.net/gh/journey-ad/blog-img/live2d/Ava/Ava.model3.json\",\n  ],\n  tips: true,\n  onModelLoad: onModelLoad\n}\n\nfunction 加载圣·嘉然() {\n  pio_reference = new Paul_Pio(initConfig)\n\n  pio_alignment = \"left\"\n\n  // Then apply style\n  pio_refresh_style()\n}\n\nfunction onModelLoad(model) {\n  const container = document.getElementById(\"pio-container\")\n  const canvas = document.getElementById(\"pio\")\n  const modelNmae = model.internalModel.settings.name\n  const coreModel = model.internalModel.coreModel\n  const motionManager = model.internalModel.motionManager\n\n  let touchList = [\n    {\n      text: \"点击展示文本1\",\n      motion: \"Idle\"\n    },\n    {\n      text: \"点击展示文本2\",\n      motion: \"Idle\"\n    }\n  ]\n\n  function playAction(action) {\n    action.text && pio_reference.modules.render(action.text)\n    action.motion && pio_reference.model.motion(action.motion)\n\n    if (action.from && action.to) {\n      Object.keys(action.from).forEach(id => {\n        const hidePartIndex = coreModel._partIds.indexOf(id)\n        TweenLite.to(coreModel._partOpacities, 0.6, { [hidePartIndex]: action.from[id] });\n        // coreModel._partOpacities[hidePartIndex] = action.from[id]\n      })\n\n      motionManager.once(\"motionFinish\", (data) => {\n        Object.keys(action.to).forEach(id => {\n          const hidePartIndex = coreModel._partIds.indexOf(id)\n          TweenLite.to(coreModel._partOpacities, 0.6, { [hidePartIndex]: action.to[id] });\n          // coreModel._partOpacities[hidePartIndex] = action.to[id]\n        })\n      })\n    }\n  }\n\n  canvas.onclick = function () {\n    if (motionManager.state.currentGroup !== \"Idle\") return\n\n    const action = pio_reference.modules.rand(touchList)\n    playAction(action)\n  }\n\n  if (modelNmae === \"Diana\") {\n    container.dataset.model = \"Diana\"\n    initConfig.content.skin[1] = [\"我是吃货担当 嘉然 Diana~\"]\n    playAction({ motion: \"Tap抱阿草-左手\" })\n\n    touchList = [\n      {\n        text: \"嘉心糖屁用没有\",\n        motion: \"Tap生气 -领结\"\n      },\n      {\n        text: \"有人急了，但我不说是谁~\",\n        motion: \"Tap= =  左蝴蝶结\"\n      },\n      {\n        text: \"呜呜...呜呜呜....\",\n        motion: \"Tap哭 -眼角\"\n      },\n      {\n        text: \"想然然了没有呀~\",\n        motion: \"Tap害羞-中间刘海\"\n      },\n      {\n        text: \"阿草好软呀~\",\n        motion: \"Tap抱阿草-左手\"\n      },\n      {\n        text: \"不要再戳啦！好痒！\",\n        motion: \"Tap摇头- 身体\"\n      },\n      {\n        text: \"嗷呜~~~\",\n        motion: \"Tap耳朵-发卡\"\n      },\n      {\n        text: \"zzZ。。。\",\n        motion: \"Leave\"\n      },\n      {\n        text: \"哇！好吃的！\",\n        motion: \"Tap右头发\"\n      },\n    ]\n\n  } else if (modelNmae === \"Ava\") {\n    container.dataset.model = \"Ava\"\n    initConfig.content.skin[1] = [\"我是<s>拉胯</s>Gamer担当 向晚 AvA~\"]\n    playAction({\n      motion: \"Tap左眼\",\n      from: {\n        \"Part15\": 1\n      },\n      to: {\n        \"Part15\": 0\n      }\n    })\n\n    touchList = [\n      {\n        text: \"水母 水母~ 只是普通的生物\",\n        motion: \"Tap右手\"\n      },\n      {\n        text: \"可爱的鸽子鸽子~我喜欢你~\",\n        motion: \"Tap胸口项链\",\n        from: {\n          \"Part12\": 1\n        },\n        to: {\n          \"Part12\": 0\n        }\n      },\n      {\n        text: \"好...好兄弟之间喜欢很正常啦\",\n        motion: \"Tap中间刘海\",\n        from: {\n          \"Part12\": 1\n        },\n        to: {\n          \"Part12\": 0\n        }\n      },\n      {\n        text: \"啊啊啊！怎么推流辣\",\n        motion: \"Tap右眼\",\n        from: {\n          \"Part16\": 1\n        },\n        to: {\n          \"Part16\": 0\n        }\n      },\n      {\n        text: \"你怎么老摸我，我的身体是不是可有魅力\",\n        motion: \"Tap嘴\"\n      },\n      {\n        text: \"AAAAAAAAAAvvvvAAA 向晚！\",\n        motion: \"Tap左眼\",\n        from: {\n          \"Part15\": 1\n        },\n        to: {\n          \"Part15\": 0\n        }\n      }\n    ]\n    canvas.width = model.width * 1.2\n    const hideParts = [\n      \"Part5\", // 晕\n      \"neko\", // 喵喵拳\n      \"game\", // 左手游戏手柄\n      \"Part15\", // 墨镜\n      \"Part21\", // 右手小臂\n      \"Part22\", // 左手垂下\n      \"Part\", // 双手抱拳\n      \"Part16\", // 惊讶特效\n      \"Part12\" // 小心心\n    ]\n    const hidePartsIndex = hideParts.map(id => coreModel._partIds.indexOf(id))\n    hidePartsIndex.forEach(idx => {\n      coreModel._partOpacities[idx] = 0\n    })\n  }\n}\n\n\nvar pio_reference\nwindow.onload = 加载圣·嘉然\n"]}