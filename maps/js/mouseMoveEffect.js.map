{"version":3,"file":"../../js/mouseMoveEffect.js","names":["possibleColors","width","window","innerWidth","cursor","innerHeight","x","y","particles","onWindowResize","e","onTouchMove","touches","length","i","addParticle","clientX","clientY","Math","floor","random","onMouseMove","color","particle","Particle","init","push","loop","requestAnimationFrame","update","lifeSpan","die","splice","updateParticles","this","character","initialStyles","position","top","display","pointerEvents","fontSize","velocity","element","document","createElement","innerHTML","target","properties","key","style","applyProperties","body","appendChild","transform","parentNode","removeChild","addEventListener"],"sources":["js/mouseMoveEffect.js"],"mappings":"CAAA,WAEI,IAAIA,EAAiB,CAAC,UAAW,UAAW,WACxCC,EAAQC,OAAOC,WAEfC,GADSF,OAAOG,YACP,CAACC,EAAGL,EAAM,EAAGM,EAAGN,EAAM,IAC/BO,EAAY,GAgBhB,SAASC,EAAeC,GACpBT,EAAQC,OAAOC,WACND,OAAOG,WACpB,CAEA,SAASM,EAAYD,GACjB,GAAIA,EAAEE,QAAQC,OAAS,EACnB,IAAK,IAAIC,EAAI,EAAGA,EAAIJ,EAAEE,QAAQC,OAAQC,IAClCC,EAAaL,EAAEE,QAAQE,GAAGE,QAASN,EAAEE,QAAQE,GAAGG,QAASjB,EAAekB,KAAKC,MAAMD,KAAKE,SAASpB,EAAea,SAG5H,CAEA,SAASQ,EAAYX,GACjBN,EAAOE,EAAII,EAAEM,QACbZ,EAAOG,EAAIG,EAAEO,QAEbF,EAAaX,EAAOE,EAAGF,EAAOG,EAAGP,EAAekB,KAAKC,MAAMD,KAAKE,SAASpB,EAAea,SAC5F,CAEA,SAASE,EAAYT,EAAGC,EAAGe,GACvB,IAAIC,EAAW,IAAIC,EACnBD,EAASE,KAAKnB,EAAGC,EAAGe,GACpBd,EAAUkB,KAAKH,EACnB,CAiBA,SAASI,IACLC,sBAAsBD,GAhB1B,WAEI,IAAK,IAAIb,EAAI,EAAGA,EAAIN,EAAUK,OAAQC,IAClCN,EAAUM,GAAGe,SAGjB,IAASf,EAAIN,EAAUK,OAAQ,EAAGC,GAAK,EAAGA,IAClCN,EAAUM,GAAGgB,SAAW,IACxBtB,EAAUM,GAAGiB,MACbvB,EAAUwB,OAAOlB,EAAG,GAIhC,CAIImB,EACJ,CAEA,SAAST,IAELU,KAAKC,UAAY,IACjBD,KAAKJ,SAAW,IAChBI,KAAKE,cAAe,CAChBC,SAAY,QACZC,IAAO,IACPC,QAAW,QACXC,cAAiB,OACjB,UAAW,WACXC,SAAY,OACZ,cAAe,aAGnBP,KAAKT,KAAO,SAASnB,EAAGC,EAAGe,GAEvBY,KAAKQ,SAAW,CACZpC,GAAKY,KAAKE,SAAW,IAAO,EAAI,IAAMF,KAAKE,SAAW,GACtDb,EAAG,GAGP2B,KAAKG,SAAW,CAAC/B,EAAGA,EAAI,GAAIC,EAAGA,EAAI,IACnC2B,KAAKE,cAAcd,MAAQA,EAG3BY,KAAKS,QAAUC,SAASC,cAAc,QACtCX,KAAKS,QAAQG,UAAYZ,KAAKC,UAqBtC,SAA0BY,EAAQC,GAC9B,IAAK,IAAIC,KAAOD,EACZD,EAAOG,MAAOD,GAAQD,EAAYC,EAE1C,CAxBQE,CAAgBjB,KAAKS,QAAST,KAAKE,eACnCF,KAAKL,SAELe,SAASQ,KAAKC,YAAYnB,KAAKS,QACnC,EAEAT,KAAKL,OAAS,WACVK,KAAKG,SAAS/B,GAAK4B,KAAKQ,SAASpC,EACjC4B,KAAKG,SAAS9B,GAAK2B,KAAKQ,SAASnC,EACjC2B,KAAKJ,WAELI,KAAKS,QAAQO,MAAMI,UAAY,eAAiBpB,KAAKG,SAAS/B,EAAI,MAAQ4B,KAAKG,SAAS9B,EAAI,eAAkB2B,KAAKJ,SAAW,IAAO,GACzI,EAEAI,KAAKH,IAAM,WACPG,KAAKS,QAAQY,WAAWC,YAAYtB,KAAKS,QAC7C,CAEJ,CAlGIC,SAASa,iBAAiB,YAAapC,GACvCuB,SAASa,iBAAiB,YAAa9C,GACvCiC,SAASa,iBAAiB,aAAc9C,GAExCT,OAAOuD,iBAAiB,SAAUhD,GATlCkB,GAgHP,CA1HD","ignoreList":[],"sourcesContent":["(function mouseMoveEffect() {\n\n    var possibleColors = [\"#D61C59\", \"#E7D84B\", \"#1B8798\"]\n    var width = window.innerWidth;\n    var height = window.innerHeight;\n    var cursor = {x: width/2, y: width/2};\n    var particles = [];\n\n    function init() {\n        bindEvents();\n        loop();\n    }\n\n    // Bind events that are needed\n    function bindEvents() {\n        document.addEventListener('mousemove', onMouseMove);\n        document.addEventListener('touchmove', onTouchMove);\n        document.addEventListener('touchstart', onTouchMove);\n\n        window.addEventListener('resize', onWindowResize);\n    }\n\n    function onWindowResize(e) {\n        width = window.innerWidth;\n        height = window.innerHeight;\n    }\n\n    function onTouchMove(e) {\n        if( e.touches.length > 0 ) {\n            for( var i = 0; i < e.touches.length; i++ ) {\n                addParticle( e.touches[i].clientX, e.touches[i].clientY, possibleColors[Math.floor(Math.random()*possibleColors.length)]);\n            }\n        }\n    }\n\n    function onMouseMove(e) {\n        cursor.x = e.clientX;\n        cursor.y = e.clientY;\n\n        addParticle( cursor.x, cursor.y, possibleColors[Math.floor(Math.random()*possibleColors.length)]);\n    }\n\n    function addParticle(x, y, color) {\n        var particle = new Particle();\n        particle.init(x, y, color);\n        particles.push(particle);\n    }\n\n    function updateParticles() {\n\n        for( var i = 0; i < particles.length; i++ ) {\n            particles[i].update();\n        }\n\n        for( var i = particles.length -1; i >= 0; i-- ) {\n            if( particles[i].lifeSpan < 0 ) {\n                particles[i].die();\n                particles.splice(i, 1);\n            }\n        }\n\n    }\n\n    function loop() {\n        requestAnimationFrame(loop);\n        updateParticles();\n    }\n\n    function Particle() {\n\n        this.character = \"*\";\n        this.lifeSpan = 120; //ms\n        this.initialStyles ={\n            \"position\": \"fixed\",\n            \"top\": \"0\", //必须加\n            \"display\": \"block\",\n            \"pointerEvents\": \"none\",\n            \"z-index\": \"10000000\",\n            \"fontSize\": \"20px\",\n            \"will-change\": \"transform\"\n        };\n\n        this.init = function(x, y, color) {\n\n            this.velocity = {\n                x:  (Math.random() < 0.5 ? -1 : 1) * (Math.random() / 2),\n                y: 1\n            };\n\n            this.position = {x: x - 10, y: y - 20};\n            this.initialStyles.color = color;\n            // console.log(color);\n\n            this.element = document.createElement('span');\n            this.element.innerHTML = this.character;\n            applyProperties(this.element, this.initialStyles);\n            this.update();\n\n            document.body.appendChild(this.element);\n        };\n\n        this.update = function() {\n            this.position.x += this.velocity.x;\n            this.position.y += this.velocity.y;\n            this.lifeSpan--;\n\n            this.element.style.transform = \"translate3d(\" + this.position.x + \"px,\" + this.position.y + \"px,0) scale(\" + (this.lifeSpan / 120) + \")\";\n        }\n\n        this.die = function() {\n            this.element.parentNode.removeChild(this.element);\n        }\n\n    }\n\n    function applyProperties( target, properties ) {\n        for( var key in properties ) {\n            target.style[ key ] = properties[ key ];\n        }\n    }\n\n    init();\n})();"]}